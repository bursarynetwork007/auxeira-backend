<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auxeira Share Value Partners - Intelligence Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://js.paystack.co/v1/inline.js"></script>
    <style>
        :root {
            --primary-bg: #0a0a0a;
            --secondary-bg: #1a1a1a;
            --accent-bg: #2a2a2a;
            --terminal-green: #00ff88;
            --terminal-blue: #0088ff;
            --terminal-purple: #8800ff;
            --terminal-gold: #ffaa00;
            --terminal-red: #ff4444;
            --text-primary: #ffffff;
            --text-secondary: #e0e0e0;
            --text-muted: #888888;
            --border-color: #444444;
            --glass-bg: rgba(255, 255, 255, 0.08);
            --glass-border: rgba(255, 255, 255, 0.15);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, var(--primary-bg) 0%, #1a0a2a 100%);
            color: var(--text-primary);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-height: 100vh;
            overflow-x: hidden;
            line-height: 1.6;
        }

        h1, h2, h3, h4, h5, h6 {
            color: var(--text-primary);
            font-weight: 600;
            text-shadow: 0 1px 2px rgba(0,0,0,0.3);
        }

        .text-muted {
            color: var(--text-muted) !important;
        }

        .terminal-container {
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            padding: 24px;
            margin: 16px 0;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .terminal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
            padding-bottom: 16px;
            border-bottom: 2px solid var(--border-color);
        }

        .terminal-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--terminal-blue);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .live-indicator {
            width: 10px;
            height: 10px;
            background: var(--terminal-green);
            border-radius: 50%;
            animation: pulse 2s infinite;
            box-shadow: 0 0 10px var(--terminal-green);
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.1); }
        }

        .critical-banner {
            background: linear-gradient(90deg, var(--terminal-blue), var(--terminal-purple));
            color: white;
            padding: 18px;
            margin-bottom: 24px;
            border-radius: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            animation: slideDown 0.5s ease-out;
            box-shadow: 0 4px 20px rgba(0, 136, 255, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        @keyframes slideDown {
            from { transform: translateY(-100%); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .glass-card {
            background: var(--glass-bg);
            backdrop-filter: blur(15px);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            padding: 20px;
            margin: 16px 0;
            transition: all 0.3s ease;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
        }

        .glass-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 40px rgba(0, 136, 255, 0.25);
            border-color: var(--terminal-blue);
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .metric-card {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .metric-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--terminal-blue), var(--terminal-purple));
        }

        .metric-card:hover {
            transform: translateY(-2px);
            border-color: var(--terminal-blue);
            box-shadow: 0 8px 25px rgba(0, 136, 255, 0.2);
        }

        .metric-value {
            font-size: 2.2rem;
            font-weight: 800;
            margin-bottom: 8px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .metric-label {
            color: var(--text-secondary);
            font-size: 0.95rem;
            font-weight: 500;
            margin-bottom: 8px;
        }

        .nav-tabs {
            border-bottom: 2px solid var(--border-color);
            margin-bottom: 30px;
        }

        .nav-tabs .nav-link {
            color: var(--text-secondary);
            border: none;
            padding: 16px 28px;
            font-weight: 600;
            transition: all 0.3s ease;
            border-radius: 8px 8px 0 0;
            font-size: 0.95rem;
        }

        .nav-tabs .nav-link:hover {
            color: var(--terminal-blue);
            background: rgba(0, 136, 255, 0.1);
        }

        .nav-tabs .nav-link.active {
            color: var(--terminal-blue);
            background: transparent;
            border-bottom: 3px solid var(--terminal-blue);
            font-weight: 700;
        }

        .btn-terminal {
            background: linear-gradient(135deg, var(--terminal-blue), var(--terminal-purple));
            border: none;
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 136, 255, 0.3);
        }

        .btn-terminal:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 136, 255, 0.4);
            color: white;
        }

        .btn-outline-terminal {
            background: transparent;
            border: 2px solid var(--terminal-blue);
            color: var(--terminal-blue);
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .btn-outline-terminal:hover {
            background: var(--terminal-blue);
            color: white;
            transform: translateY(-2px);
        }

        .qualitative-card {
            background: linear-gradient(135deg, rgba(0, 136, 255, 0.1), rgba(136, 0, 255, 0.1));
            border-left: 4px solid var(--terminal-blue);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            font-style: italic;
        }

        .qualitative-card .statement-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
            color: var(--terminal-blue);
            font-weight: 600;
        }

        .qualitative-card .statement-content {
            color: var(--text-secondary);
            line-height: 1.6;
        }

        /* Interactive Controls */
        .whatif-container {
            background: linear-gradient(135deg, rgba(0, 136, 255, 0.15), rgba(136, 0, 255, 0.15));
            border: 2px solid var(--terminal-blue);
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
        }

        .slider-control {
            margin: 20px 0;
        }

        .slider-label {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .slider {
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: var(--accent-bg);
            outline: none;
            -webkit-appearance: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--terminal-blue);
            cursor: pointer;
            box-shadow: 0 0 10px rgba(0, 136, 255, 0.5);
        }

        .slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--terminal-blue);
            cursor: pointer;
            box-shadow: 0 0 10px rgba(0, 136, 255, 0.5);
        }

        /* Scenario Selector */
        .scenario-selector {
            display: flex;
            gap: 15px;
            margin: 20px 0;
        }

        .scenario-btn {
            flex: 1;
            padding: 15px;
            border: 2px solid var(--border-color);
            border-radius: 10px;
            background: var(--glass-bg);
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .scenario-btn:hover {
            border-color: var(--terminal-blue);
            transform: translateY(-2px);
        }

        .scenario-btn.active {
            border-color: var(--terminal-green);
            background: rgba(0, 255, 136, 0.15);
            box-shadow: 0 0 20px rgba(0, 255, 136, 0.3);
        }

        /* Profile Nudge */
        .profile-nudge {
            background: linear-gradient(135deg, rgba(255, 170, 0, 0.15), rgba(255, 68, 68, 0.15));
            border: 2px solid var(--terminal-gold);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            animation: gentlePulse 3s infinite;
        }

        @keyframes gentlePulse {
            0%, 100% { box-shadow: 0 0 15px rgba(255, 170, 0, 0.3); }
            50% { box-shadow: 0 0 25px rgba(255, 170, 0, 0.5); }
        }

        /* Benefits Showcase */
        .benefit-item {
            background: rgba(0, 255, 136, 0.1);
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            border-left: 4px solid var(--terminal-green);
        }

        /* Paywall Report Card */
        .report-paywall {
            background: linear-gradient(135deg, rgba(136, 0, 255, 0.15), rgba(0, 136, 255, 0.15));
            border: 2px solid var(--terminal-purple);
            border-radius: 12px;
            padding: 25px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .pricing-tier {
            background: var(--glass-bg);
            border: 2px solid var(--glass-border);
            border-radius: 10px;
            padding: 20px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .pricing-tier:hover {
            border-color: var(--terminal-purple);
            transform: translateY(-5px);
            box-shadow: 0 12px 30px rgba(136, 0, 255, 0.3);
        }

        .pricing-tier.recommended {
            border-color: var(--terminal-gold);
            background: linear-gradient(135deg, rgba(255, 170, 0, 0.1), rgba(136, 0, 255, 0.1));
        }

        /* Trigger Badge */
        .trigger-badge {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            margin: 5px;
            animation: fadeInUp 0.5s ease;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .chart-container {
            position: relative;
            height: 320px;
            margin: 24px 0;
        }

        .progress-bar-custom {
            height: 10px;
            background: var(--accent-bg);
            border-radius: 6px;
            overflow: hidden;
            margin: 12px 0;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.2);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--terminal-green), var(--terminal-blue));
            border-radius: 6px;
            transition: width 0.5s ease;
            box-shadow: 0 2px 8px rgba(0, 255, 136, 0.3);
        }

        .notification-toast {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 9999;
            min-width: 300px;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 10px;
            padding: 16px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            transform: translateX(400px);
            transition: transform 0.3s ease;
        }

        .notification-toast.show {
            transform: translateX(0);
        }

        /* Leaderboard Styles */
        .leaderboard-item {
            display: flex;
            align-items: center;
            padding: 15px;
            margin: 10px 0;
            border-radius: 10px;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            transition: all 0.3s ease;
        }

        .leaderboard-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 136, 255, 0.2);
        }

        .rank-badge {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            margin-right: 15px;
            flex-shrink: 0;
        }

        .rank-1 { background: linear-gradient(135deg, #FFD700, #FFAA00); color: #000; }
        .rank-2 { background: linear-gradient(135deg, #C0C0C0, #A0A0A0); color: #000; }
        .rank-3 { background: linear-gradient(135deg, #CD7F32, #A56A2B); color: #000; }
        .rank-other { background: var(--accent-bg); color: var(--text-primary); }

        /* Influence Decay Warning */
        .decay-warning {
            background: linear-gradient(135deg, rgba(255, 68, 68, 0.15), rgba(255, 170, 0, 0.15));
            border: 2px solid var(--terminal-red);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            animation: gentlePulseRed 3s infinite;
        }

        @keyframes gentlePulseRed {
            0%, 100% { box-shadow: 0 0 15px rgba(255, 68, 68, 0.3); }
            50% { box-shadow: 0 0 25px rgba(255, 68, 68, 0.5); }
        }

        /* Automated Pipeline Styles */
        .pipeline-step {
            display: flex;
            align-items: center;
            padding: 15px;
            margin: 10px 0;
            border-radius: 10px;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
        }

        .pipeline-step-number {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            margin-right: 15px;
            background: linear-gradient(135deg, var(--terminal-blue), var(--terminal-purple));
            color: white;
            flex-shrink: 0;
        }

        @media (max-width: 768px) {
            .metrics-grid { grid-template-columns: repeat(2, 1fr); gap: 15px; }
            .scenario-selector { flex-direction: column; }
        }

        @media (max-width: 576px) {
            .metrics-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <!-- Profile Completion Nudge -->
    <div id="profileNudge" class="profile-nudge">
        <div class="container-fluid">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <div class="d-flex align-items-center gap-3">
                        <i class="fas fa-user-circle fa-3x" style="color: var(--terminal-gold);"></i>
                        <div>
                            <h5 class="mb-1" style="color: var(--terminal-gold);">
                                <i class="fas fa-sparkles me-2"></i>Complete Your Profile to Unlock 15% More Value
                            </h5>
                            <p class="mb-0 text-muted">
                                Partners with complete profiles see 3x better matching and $12K higher annual returns
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 text-end">
                    <div class="mb-2">
                        <div class="progress-bar-custom">
                            <div class="progress-fill" style="width: 60%;" id="profileProgress"></div>
                        </div>
                        <small class="text-muted">60% Complete</small>
                    </div>
                    <button class="btn btn-terminal btn-sm" onclick="completeProfile()">
                        <i class="fas fa-user-edit me-2"></i>Complete Profile Now
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Influence Decay Warning -->
    <div id="influenceDecayWarning" class="decay-warning">
        <div class="d-flex align-items-center">
            <div class="live-indicator me-3" style="background: var(--terminal-red);"></div>
            <div class="flex-grow-1">
                <strong>INFLUENCE DECAY ACTIVE:</strong>
                <span class="ms-2">
                    Your influence drops 4% daily. Take action to maintain your Gold tier status.
                </span>
            </div>
            <div>
                <button class="btn btn-outline-terminal btn-sm" onclick="showDecayMitigation()">
                    <i class="fas fa-shield-alt me-1"></i>Take Action
                </button>
            </div>
        </div>
    </div>

    <!-- Critical Action Banner -->
    <div id="criticalBanner" class="critical-banner">
        <div class="d-flex align-items-center">
            <div class="live-indicator me-3"></div>
            <div>
                <strong>PARTNER IMPACT LIVE:</strong>
                <span class="ms-2">
                    Shadow Value: $<span id="shadowValueBanner">98,000</span> ‚Ä¢ 
                    ROI: <span id="roiBanner">18.4x</span> ‚Ä¢ 
                    MRR: $<span id="mrrBanner">4,250</span> ‚Ä¢ 
                    Rank: #<span id="rankBanner">7</span>
                </span>
            </div>
        </div>
        <div class="d-flex align-items-center gap-2">
            <span class="badge bg-success"><i class="fas fa-pulse me-1"></i>Live</span>
            <span class="badge bg-warning text-dark">GOLD TIER</span>
            <span class="badge bg-info" id="reportSlotsBadge">2 Report Slots Left</span>
        </div>
    </div>

    <div class="container-fluid">
        <!-- Header -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="d-flex justify-content-between align-items-center">
                    <div>
                        <h1 class="mb-2" style="color: var(--terminal-blue);">
                            <i class="fas fa-chart-network me-2"></i>Auxeira Share Value Partners
                        </h1>
                        <p class="text-muted mb-0">
                            <i class="fas fa-user me-1"></i>Welcome, Marcus Chen - AWS Cloud Services Executive
                        </p>
                    </div>
                    <div class="d-flex align-items-center gap-3">
                        <div class="text-end">
                            <div class="small text-muted">Gold Tier</div>
                            <div class="fw-bold fs-5" style="color: var(--terminal-gold);">47 Startups</div>
                        </div>
                        <button class="btn btn-outline-terminal" onclick="showPaymentModal()">
                            <i class="fas fa-credit-card me-2"></i>Billing & Reports
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Navigation Tabs -->
        <ul class="nav nav-tabs" id="dashboardTabs" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="overview-tab" data-bs-toggle="tab" data-bs-target="#overview" type="button" role="tab">
                    <i class="fas fa-tachometer-alt me-2"></i>Overview
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="analytics-tab" data-bs-toggle="tab" data-bs-target="#analytics" type="button" role="tab">
                    <i class="fas fa-sliders-h me-2"></i>Analytics
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="pipeline-tab" data-bs-toggle="tab" data-bs-target="#pipeline" type="button" role="tab">
                    <i class="fas fa-gift me-2"></i>Your Offerings
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="leaderboard-tab" data-bs-toggle="tab" data-bs-target="#leaderboard" type="button" role="tab">
                    <i class="fas fa-trophy me-2"></i>Leaderboard
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="impact-tab" data-bs-toggle="tab" data-bs-target="#impact" type="button" role="tab">
                    <i class="fas fa-chart-line me-2"></i>Partnership Impact
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="reports-tab" data-bs-toggle="tab" data-bs-target="#reports" type="button" role="tab">
                    <i class="fas fa-file-alt me-2"></i>Reports Hub
                </button>
            </li>
        </ul>

        <!-- Tab Content -->
        <div class="tab-content" id="dashboardTabContent">
            <!-- Overview Tab -->
            <div class="tab-pane fade show active" id="overview" role="tabpanel">
                <div class="row">
                    <!-- Behavioral Triggers -->
                    <div class="col-12 mb-3">
                        <div class="d-flex flex-wrap gap-2" id="behavioralTriggers"></div>
                    </div>

                    <!-- Summary -->
                    <div class="col-12">
                        <div class="qualitative-card">
                            <div class="statement-header">
                                <i class="fas fa-chart-line"></i>
                                <span>üí∞ Performance Summary - 18.4x ROI Demonstrated</span>
                            </div>
                            <div class="statement-content">
                                Your partnership generated $98,000 in verified shadow value, representing an 18.4x return that significantly outpaces the 3.2x industry benchmark. Causal analysis shows 68% direct impact from your interventions, with 47 successful startup partnerships creating $125K in operational savings. Your 82 ESG score places you in the top decile of socially-responsible partners.
                            </div>
                        </div>
                    </div>

                    <!-- Key Metrics -->
                    <div class="col-12">
                        <div class="metrics-grid">
                            <div class="metric-card">
                                <div class="metric-value" style="color: var(--terminal-gold);">$98K</div>
                                <div class="metric-label">Shadow Value</div>
                                <div class="small text-success"><i class="fas fa-arrow-up me-1"></i>+12.3% vs Industry</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-value" style="color: var(--terminal-blue);">18.4x</div>
                                <div class="metric-label">ROI Multiple</div>
                                <div class="small text-success">vs 3.2x Benchmark</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-value" style="color: var(--terminal-green);">47</div>
                                <div class="metric-label">Active Startups</div>
                                <div class="small text-info">+15% growth</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-value" style="color: var(--terminal-purple);">82</div>
                                <div class="metric-label">ESG Score</div>
                                <div class="small text-info">Top 10%</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Analytics Tab (formerly What-If Analysis) -->
            <div class="tab-pane fade" id="analytics" role="tabpanel">
                <div class="terminal-container">
                    <div class="terminal-header">
                        <div class="terminal-title">
                            <i class="fas fa-analytics"></i>AI-Powered Analytics
                        </div>
                        <span class="badge bg-success">Real-Time Projections</span>
                    </div>

                    <!-- Story -->
                    <div class="qualitative-card">
                        <div class="statement-header">
                            <i class="fas fa-magic"></i>
                            <span>üéØ AI Scenario Planning & Predictive Modeling</span>
                        </div>
                        <div class="statement-content">
                            Adjust key variables to see how different strategies impact your partnership performance. Our AI-powered predictive models use historical data from 1,200+ partnerships to forecast outcomes with 89% accuracy. Test conservative, expected, and aggressive growth scenarios to make data-driven investment decisions.
                        </div>
                    </div>

                    <!-- Scenario Selector -->
                    <div class="scenario-selector">
                        <div class="scenario-btn active" onclick="setScenario('conservative')" id="conservativeBtn">
                            <div class="fw-bold" style="color: var(--terminal-blue);">Conservative</div>
                            <small class="text-muted">Safe Growth</small>
                        </div>
                        <div class="scenario-btn" onclick="setScenario('expected')" id="expectedBtn">
                            <div class="fw-bold" style="color: var(--terminal-green);">Expected</div>
                            <small class="text-muted">Current Trajectory</small>
                        </div>
                        <div class="scenario-btn" onclick="setScenario('aggressive')" id="aggressiveBtn">
                            <div class="fw-bold" style="color: var(--terminal-gold);">Aggressive</div>
                            <small class="text-muted">High Growth</small>
                        </div>
                    </div>

                    <!-- Interactive Controls -->
                    <div class="whatif-container">
                        <h5 class="mb-4" style="color: var(--terminal-blue);">
                            <i class="fas fa-sliders-h me-2"></i>Adjust Parameters
                        </h5>

                        <!-- Number of Startups -->
                        <div class="slider-control">
                            <div class="slider-label">
                                <span class="text-secondary">Number of Startup Partnerships</span>
                                <span class="fw-bold" style="color: var(--terminal-green);" id="startupsValue">47</span>
                            </div>
                            <input type="range" min="10" max="150" value="47" class="slider" id="startupsSlider" oninput="updateProjections()">
                        </div>

                        <!-- Average Deal Size -->
                        <div class="slider-control">
                            <div class="slider-label">
                                <span class="text-secondary">Average Deal Size ($)</span>
                                <span class="fw-bold" style="color: var(--terminal-blue);" id="dealSizeValue">$2,650</span>
                            </div>
                            <input type="range" min="500" max="10000" value="2650" step="50" class="slider" id="dealSizeSlider" oninput="updateProjections()">
                        </div>

                        <!-- Success Rate -->
                        <div class="slider-control">
                            <div class="slider-label">
                                <span class="text-secondary">Partnership Success Rate (%)</span>
                                <span class="fw-bold" style="color: var(--terminal-purple);" id="successRateValue">75%</span>
                            </div>
                            <input type="range" min="30" max="100" value="75" class="slider" id="successRateSlider" oninput="updateProjections()">
                        </div>

                        <!-- Growth Rate -->
                        <div class="slider-control">
                            <div class="slider-label">
                                <span class="text-secondary">Monthly Growth Rate (%)</span>
                                <span class="fw-bold" style="color: var(--terminal-gold);" id="growthRateValue">15%</span>
                            </div>
                            <input type="range" min="0" max="50" value="15" class="slider" id="growthRateSlider" oninput="updateProjections()">
                        </div>
                    </div>

                    <!-- Projection Results -->
                    <div class="row mt-4">
                        <div class="col-md-6">
                            <div class="glass-card">
                                <h6 class="mb-3" style="color: var(--terminal-green);">
                                    <i class="fas fa-chart-line me-2"></i>12-Month Projections
                                </h6>
                                <div class="chart-container">
                                    <canvas id="projectionChart"></canvas>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="glass-card">
                                <h6 class="mb-3" style="color: var(--terminal-blue);">AI Projected Outcomes</h6>
                                <div class="mb-3">
                                    <div class="text-muted small">Total Revenue (12 months)</div>
                                    <div class="fw-bold fs-3" style="color: var(--terminal-green);" id="projectedRevenue">$62,400</div>
                                </div>
                                <div class="mb-3">
                                    <div class="text-muted small">Shadow Value (12 months)</div>
                                    <div class="fw-bold fs-3" style="color: var(--terminal-gold);" id="projectedShadowValue">$148,200</div>
                                </div>
                                <div class="mb-3">
                                    <div class="text-muted small">Projected ROI Multiple</div>
                                    <div class="fw-bold fs-3" style="color: var(--terminal-blue);" id="projectedROI">22.8x</div>
                                </div>
                                <div class="alert alert-info mt-3">
                                    <small>
                                        <i class="fas fa-robot me-1"></i>
                                        AI-generated projection based on <span id="scenarioName">Expected</span> scenario with 89% prediction accuracy
                                    </small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Automated Offerings Pipeline Tab -->
            <div class="tab-pane fade" id="pipeline" role="tabpanel">
                <div class="terminal-container">
                    <div class="terminal-header">
                        <div class="terminal-title">
                            <i class="fas fa-gift"></i>Your Automated Offerings Pipeline
                        </div>
                        <span class="badge bg-success">$125K Total Value Created</span>
                    </div>

                    <div class="qualitative-card">
                        <div class="statement-header">
                            <i class="fas fa-magic"></i>
                            <span>üéÅ Partnership Value Projection</span>
                        </div>
                        <div class="statement-content">
                            Before startups engage, they see projected benefits: 20% revenue uplift through Stripe optimization, 30% faster time-to-market with AWS credits, 45% infrastructure cost reduction. This transparent value showcase drives 3x higher conversion rates and creates immediate trust.
                        </div>
                    </div>

                    <!-- Automated Pipeline Steps -->
                    <div class="pipeline-step">
                        <div class="pipeline-step-number">1</div>
                        <div class="flex-grow-1">
                            <h6 style="color: var(--terminal-green);">
                                <i class="fas fa-cloud me-2"></i>AWS Cloud Credits
                            </h6>
                            <p class="mb-2 text-secondary">$10,000 in infrastructure credits for 12 months</p>
                            <div class="d-flex gap-2 flex-wrap">
                                <span class="badge bg-success">45% Cost Reduction</span>
                                <span class="badge bg-info">30% Faster Launch</span>
                                <span class="badge bg-warning text-dark">32 Startups</span>
                            </div>
                        </div>
                        <div class="text-end">
                            <div class="fw-bold fs-4" style="color: var(--terminal-green);">$89K</div>
                            <small class="text-muted">Savings Generated</small>
                        </div>
                    </div>

                    <div class="pipeline-step">
                        <div class="pipeline-step-number">2</div>
                        <div class="flex-grow-1">
                            <h6 style="color: var(--terminal-green);">
                                <i class="fas fa-credit-card me-2"></i>Stripe Payment Processing
                            </h6>
                            <p class="mb-2 text-secondary">Zero fees for first 6 months + payment optimization</p>
                            <div class="d-flex gap-2 flex-wrap">
                                <span class="badge bg-success">15% CAC Reduction</span>
                                <span class="badge bg-info">20% Revenue Boost</span>
                                <span class="badge bg-warning text-dark">47 Startups</span>
                            </div>
                        </div>
                        <div class="text-end">
                            <div class="fw-bold fs-4" style="color: var(--terminal-green);">$50K</div>
                            <small class="text-muted">Fees Saved</small>
                        </div>
                    </div>

                    <div class="pipeline-step">
                        <div class="pipeline-step-number">3</div>
                        <div class="flex-grow-1">
                            <h6 style="color: var(--terminal-green);">
                                <i class="fas fa-tokens me-2"></i>Platform Tokens & Cashback
                            </h6>
                            <p class="mb-2 text-secondary">5% cashback on all redemptions + bonus rewards</p>
                            <div class="d-flex gap-2 flex-wrap">
                                <span class="badge bg-success">Redeemable Anytime</span>
                                <span class="badge bg-info">Compounds Monthly</span>
                                <span class="badge bg-warning text-dark">$2.3K Avg</span>
                            </div>
                        </div>
                        <div class="text-end">
                            <div class="fw-bold fs-4" style="color: var(--terminal-green);">$6.2K</div>
                            <small class="text-muted">Tokens Earned</small>
                        </div>
                    </div>

                    <!-- Value Calculator -->
                    <div class="glass-card mt-4">
                        <h6 class="mb-3" style="color: var(--terminal-blue);">
                            <i class="fas fa-calculator me-2"></i>Instant Value Calculator for Startups
                        </h6>
                        <p class="text-secondary mb-3">Show startups projected savings before commitment:</p>
                        <div class="row">
                            <div class="col-md-4 text-center">
                                <div class="metric-value" style="color: var(--terminal-green); font-size: 1.8rem;">$12.5K</div>
                                <small class="text-muted">Avg First Year Value</small>
                            </div>
                            <div class="col-md-4 text-center">
                                <div class="metric-value" style="color: var(--terminal-blue); font-size: 1.8rem;">6-8 mo</div>
                                <small class="text-muted">ROI Payback Period</small>
                            </div>
                            <div class="col-md-4 text-center">
                                <div class="metric-value" style="color: var(--terminal-purple); font-size: 1.8rem;">3.2x</div>
                                <small class="text-muted">Value Multiple</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Leaderboard Tab -->
            <div class="tab-pane fade" id="leaderboard" role="tabpanel">
                <div class="terminal-container">
                    <div class="terminal-header">
                        <div class="terminal-title">
                            <i class="fas fa-trophy"></i>Partner Leaderboard
                        </div>
                        <span class="badge bg-success">Live Rankings</span>
                    </div>

                    <div class="qualitative-card">
                        <div class="statement-header">
                            <i class="fas fa-magic"></i>
                            <span>üèÜ Competitive Rankings & Gamification</span>
                        </div>
                        <div class="statement-content">
                            See how you stack up against other partners. Our gamification system rewards high-impact partnerships with exclusive benefits, priority access to premium startups, and enhanced visibility. Climb the ranks to unlock new opportunities and maximize your influence.
                        </div>
                    </div>

                    <!-- Leaderboard -->
                    <div class="leaderboard-item" style="border: 2px solid var(--terminal-gold);">
                        <div class="rank-badge rank-1">1</div>
                        <div class="flex-grow-1">
                            <h6 class="mb-1">Sarah Johnson - Microsoft Azure</h6>
                            <div class="d-flex gap-3">
                                <span class="text-muted">Shadow Value: <strong style="color: var(--terminal-gold);">$145K</strong></span>
                                <span class="text-muted">Startups: <strong>68</strong></span>
                                <span class="text-muted">ROI: <strong>22.3x</strong></span>
                            </div>
                        </div>
                        <div class="text-end">
                            <div class="badge bg-success">PLATINUM</div>
                        </div>
                    </div>

                    <div class="leaderboard-item" style="border: 2px solid var(--terminal-blue);">
                        <div class="rank-badge rank-2">2</div>
                        <div class="flex-grow-1">
                            <h6 class="mb-1">David Chen - Google Cloud</h6>
                            <div class="d-flex gap-3">
                                <span class="text-muted">Shadow Value: <strong style="color: var(--terminal-gold);">$128K</strong></span>
                                <span class="text-muted">Startups: <strong>59</strong></span>
                                <span class="text-muted">ROI: <strong>19.7x</strong></span>
                            </div>
                        </div>
                        <div class="text-end">
                            <div class="badge bg-primary">GOLD</div>
                        </div>
                    </div>

                    <div class="leaderboard-item" style="border: 2px solid var(--terminal-purple);">
                        <div class="rank-badge rank-3">3</div>
                        <div class="flex-grow-1">
                            <h6 class="mb-1">Maria Rodriguez - Salesforce</h6>
                            <div class="d-flex gap-3">
                                <span class="text-muted">Shadow Value: <strong style="color: var(--terminal-gold);">$112K</strong></span>
                                <span class="text-muted">Startups: <strong>52</strong></span>
                                <span class="text-muted">ROI: <strong>17.4x</strong></span>
                            </div>
                        </div>
                        <div class="text-end">
                            <div class="badge bg-info">SILVER</div>
                        </div>
                    </div>

                    <!-- Current User Position -->
                    <div class="leaderboard-item" style="background: rgba(0, 136, 255, 0.15); border: 2px solid var(--terminal-blue);">
                        <div class="rank-badge rank-other">7</div>
                        <div class="flex-grow-1">
                            <h6 class="mb-1">Marcus Chen - AWS Cloud Services</h6>
                            <div class="d-flex gap-3">
                                <span class="text-muted">Shadow Value: <strong style="color: var(--terminal-gold);">$98K</strong></span>
                                <span class="text-muted">Startups: <strong>47</strong></span>
                                <span class="text-muted">ROI: <strong>18.4x</strong></span>
                            </div>
                        </div>
                        <div class="text-end">
                            <div class="badge bg-warning text-dark">GOLD</div>
                        </div>
                    </div>

                    <!-- More Leaderboard Items -->
                    <div id="moreLeaderboardItems" style="display: none;">
                        <!-- Additional leaderboard items would go here -->
                    </div>

                    <div class="text-center mt-3">
                        <button class="btn btn-outline-terminal" onclick="toggleLeaderboard()">
                            <i class="fas fa-chevron-down me-2"></i>Show More
                        </button>
                    </div>

                    <!-- Gamification Stats -->
                    <div class="glass-card mt-4">
                        <h5 class="mb-3" style="color: var(--terminal-blue);">
                            <i class="fas fa-gamepad me-2"></i>Your Gamification Stats
                        </h5>
                        <div class="row">
                            <div class="col-md-3 text-center">
                                <div class="metric-value" style="color: var(--terminal-green); font-size: 1.8rem;">7</div>
                                <small class="text-muted">Current Rank</small>
                            </div>
                            <div class="col-md-3 text-center">
                                <div class="metric-value" style="color: var(--terminal-blue); font-size: 1.8rem;">3</div>
                                <small class="text-muted">Positions to Platinum</small>
                            </div>
                            <div class="col-md-3 text-center">
                                <div class="metric-value" style="color: var(--terminal-purple); font-size: 1.8rem;">85%</div>
                                <small class="text-muted">Progress to Next Tier</small>
                            </div>
                            <div class="col-md-3 text-center">
                                <div class="metric-value" style="color: var(--terminal-gold); font-size: 1.8rem;">12</div>
                                <small class="text-muted">Badges Earned</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Partnership Impact Tab -->
            <div class="tab-pane fade" id="impact" role="tabpanel">
                <div class="terminal-container">
                    <div class="terminal-header">
                        <div class="terminal-title">
                            <i class="fas fa-chart-line"></i>AI-Powered Partnership Impact Analysis
                        </div>
                        <button class="btn btn-sm btn-outline-terminal" onclick="toggleImpactDetails()">
                            <i class="fas fa-info-circle me-1"></i>
                            <span id="impactToggle">Show Methodology</span>
                        </button>
                    </div>

                    <div class="qualitative-card">
                        <div class="statement-header">
                            <i class="fas fa-analytics"></i>
                            <span>üìä AI Causal Impact Assessment</span>
                        </div>
                        <div class="statement-content">
                            Rigorous AI-powered causal analysis demonstrates statistically significant improvements: 15% CAC reduction (95% CI: 12‚Äì18%), 20% revenue uplift, 18% user growth across 47 startups. Difference-in-differences with propensity matching confirms effects persist beyond initial interventions, suggesting sustainable improvements.
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-6">
                            <div class="glass-card">
                                <h5 style="color: var(--terminal-green);">
                                    <i class="fas fa-calculator me-2"></i>AI Causal Impact
                                </h5>
                                <p class="text-secondary mb-3">
                                    Your rewards caused <strong class="text-success">15% CAC reduction</strong> 
                                    (95% CI: 12‚Äì18%) across 47 startups.
                                </p>
                                <div class="chart-container">
                                    <canvas id="causalChart"></canvas>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="glass-card">
                                <h5 style="color: var(--terminal-blue);">
                                    <i class="fas fa-project-diagram me-2"></i>AI Counterfactual
                                </h5>
                                <p class="text-secondary mb-3">
                                    Without rewards, growth would be <strong class="text-danger">30% lower</strong>, 
                                    costing <strong>$45K</strong>.
                                </p>
                                <div class="chart-container">
                                    <canvas id="counterfactualChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Methodology -->
                    <div id="impactDetails" class="glass-card" style="display: none;">
                        <h5 style="color: var(--terminal-purple);">
                            <i class="fas fa-cogs me-2"></i>AI Methodology
                        </h5>
                        <div class="row">
                            <div class="col-md-6">
                                <h6 class="mb-2">Statistical Models</h6>
                                <ul class="text-secondary">
                                    <li>Difference-in-differences</li>
                                    <li>Propensity score matching</li>
                                    <li>Bayesian structural time series</li>
                                    <li>Regression discontinuity</li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <h6 class="mb-2">AI Data Sources</h6>
                                <ul class="text-secondary">
                                    <li>Auxeira SSE database</li>
                                    <li>Crunchbase & AngelList</li>
                                    <li>Redemption tracking</li>
                                    <li>Market comparisons</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Reports Hub Tab -->
            <div class="tab-pane fade" id="reports" role="tabpanel">
                <div class="terminal-container">
                    <div class="terminal-header">
                        <div class="terminal-title">
                            <i class="fas fa-file-alt"></i>AI-Powered Reports Hub
                        </div>
                        <span class="badge bg-warning" id="reportSlotsBadge2">
                            <i class="fas fa-download me-1"></i>2 Free Downloads Left
                        </span>
                    </div>

                    <div class="qualitative-card">
                        <div class="statement-header">
                            <i class="fas fa-file-contract"></i>
                            <span>üìÑ AI-Generated Reporting Framework</span>
                        </div>
                        <div class="statement-content">
                            Transform raw data into actionable intelligence. Reports leverage NanoGPT-5 for personalized qualitative analysis, ensuring comprehensive coverage and deep contextual understanding tailored to your specific partnership profile.
                        </div>
                    </div>

                    <!-- Report Cards -->
                    <div class="row">
                        <div class="col-md-4">
                            <div class="report-paywall">
                                <i class="fas fa-file-invoice-dollar fa-3x mb-3" style="color: var(--terminal-blue);"></i>
                                <h5 class="mb-2">AI ROI Report</h5>
                                <p class="text-muted mb-3">Quantifies financial returns (CAC, IRR) with causal analysis and industry benchmarks</p>
                                <div class="pricing-tier mb-2 recommended">
                                    <div class="small text-muted">Basic</div>
                                    <div class="fw-bold fs-5">$49</div>
                                    <div class="small text-muted">PDF Report + Summary</div>
                                    <button class="btn btn-terminal btn-sm mt-2" onclick="purchaseReport('roi', 49)">
                                        Buy Now
                                    </button>
                                </div>
                                <div class="pricing-tier mb-2">
                                    <div class="small text-muted">Professional</div>
                                    <div class="fw-bold fs-5">$99</div>
                                    <div class="small text-muted">+ Interactive Charts + Data Export</div>
                                    <button class="btn btn-outline-terminal btn-sm mt-2" onclick="purchaseReport('roi', 99)">
                                        Select
                                    </button>
                                </div>
                                <div class="pricing-tier">
                                    <div class="small text-muted">Enterprise</div>
                                    <div class="fw-bold fs-5">$199</div>
                                    <div class="small text-muted">Complex Analysis + Custom Models</div>
                                    <button class="btn btn-outline-terminal btn-sm mt-2" onclick="purchaseReport('roi', 199)">
                                        Select
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="report-paywall">
                                <i class="fas fa-leaf fa-3x mb-3" style="color: var(--terminal-green);"></i>
                                <h5 class="mb-2">AI ESG Impact Report</h5>
                                <p class="text-muted mb-3">Details social/environmental outcomes with TCFD alignment and SDG mapping</p>
                                <div class="pricing-tier mb-2">
                                    <div class="small text-muted">Basic</div>
                                    <div class="fw-bold fs-5">$49</div>
                                    <div class="small text-muted">PDF Report + Summary</div>
                                    <button class="btn btn-outline-terminal btn-sm mt-2" onclick="purchaseReport('esg', 49)">
                                        Select
                                    </button>
                                </div>
                                <div class="pricing-tier mb-2 recommended">
                                    <div class="small text-muted">Professional</div>
                                    <div class="fw-bold fs-5">$99</div>
                                    <div class="small text-muted">+ Interactive Charts + Data Export</div>
                                    <button class="btn btn-terminal btn-sm mt-2" onclick="purchaseReport('esg', 99)">
                                        Buy Now
                                    </button>
                                </div>
                                <div class="pricing-tier">
                                    <div class="small text-muted">Enterprise</div>
                                    <div class="fw-bold fs-5">$199</div>
                                    <div class="small text-muted">Complex Analysis + Custom Models</div>
                                    <button class="btn btn-outline-terminal btn-sm mt-2" onclick="purchaseReport('esg', 199)">
                                        Select
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="report-paywall">
                                <i class="fas fa-handshake fa-3x mb-3" style="color: var(--terminal-purple);"></i>
                                <h5 class="mb-2">AI Engagement Report</h5>
                                <p class="text-muted mb-3">Tracks startup reward redemption, effort metrics, and partnership health indicators</p>
                                <div class="pricing-tier mb-2">
                                    <div class="small text-muted">Basic</div>
                                    <div class="fw-bold fs-5">$49</div>
                                    <div class="small text-muted">PDF Report + Summary</div>
                                    <button class="btn btn-outline-terminal btn-sm mt-2" onclick="purchaseReport('engagement', 49)">
                                        Select
                                    </button>
                                </div>
                                <div class="pricing-tier mb-2">
                                    <div class="small text-muted">Professional</div>
                                    <div class="fw-bold fs-5">$99</div>
                                    <div class="small text-muted">+ Interactive Charts + Data Export</div>
                                    <button class="btn btn-outline-terminal btn-sm mt-2" onclick="purchaseReport('engagement', 99)">
                                        Select
                                    </button>
                                </div>
                                <div class="pricing-tier recommended">
                                    <div class="small text-muted">Enterprise</div>
                                    <div class="fw-bold fs-5">$199</div>
                                    <div class="small text-muted">Complex Analysis + Custom Models</div>
                                    <button class="btn btn-terminal btn-sm mt-2" onclick="purchaseReport('engagement', 199)">
                                        Buy Now
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Behavioral Science Teaser -->
                    <div class="glass-card mt-4">
                        <h5 class="mb-3" style="color: var(--terminal-gold);">
                            <i class="fas fa-brain me-2"></i>Unlock Deeper Insights with AI-Powered Analysis
                        </h5>
                        <p class="text-secondary mb-3">
                            Our AI goes beyond standard reporting to deliver personalized insights tailored to your specific partnership goals and challenges. Get actionable recommendations that drive real impact.
                        </p>
                        <div class="d-flex justify-content-between align-items-center">
                            <div>
                                <span class="badge bg-success me-2"><i class="fas fa-robot me-1"></i>NanoGPT-5 Powered</span>
                                <span class="badge bg-info me-2"><i class="fas fa-database me-1"></i>Live DB Connection</span>
                                <span class="badge bg-warning text-dark"><i class="fas fa-user-cog me-1"></i>Personalized to You</span>
                            </div>
                            <button class="btn btn-terminal" onclick="showPaymentModal()">
                                <i class="fas fa-rocket me-2"></i>Unlock All Reports
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // API Configuration
        const API_CONFIG = {
            dbEndpoint: 'https://api.auxeira.com/v1/partners',
            nanoGPT5Key: '', // API key should be set via environment variable
            paystackKey: '' // API key should be set via environment variable
        };

        // Data Engine
        class DataStoryEngine {
            constructor() {
                this.behavioralTriggers = {
                    endowmentEffect: "Your strategy vs. generic: +12% retention",
                    curiosityGap: "Unlock trends competitors are chasing",
                    socialProof: "Join Melinda Gates Foundation peers",
                    scarcityUrgency: "Limited slots - act before they fill",
                    competition: "See how you outperform rivals",
                    instantGratification: "Answers in seconds, not weeks"
                };
            }

            renderBehavioralTriggers() {
                const container = document.getElementById('behavioralTriggers');
                Object.entries(this.behavioralTriggers).forEach(([key, msg], i) => {
                    setTimeout(() => {
                        const badge = document.createElement('span');
                        badge.className = 'trigger-badge';
                        badge.style.background = this.getTriggerColor(key);
                        badge.innerHTML = `<i class="fas fa-sparkles me-1"></i>${msg}`;
                        container.appendChild(badge);
                    }, i * 200);
                });
            }

            getTriggerColor(trigger) {
                const colors = {
                    endowmentEffect: 'linear-gradient(135deg, rgba(0, 136, 255, 0.8), rgba(136, 0, 255, 0.8))',
                    curiosityGap: 'linear-gradient(135deg, rgba(255, 170, 0, 0.8), rgba(255, 68, 68, 0.8))',
                    socialProof: 'linear-gradient(135deg, rgba(0, 255, 136, 0.8), rgba(0, 136, 255, 0.8))',
                    scarcityUrgency: 'linear-gradient(135deg, rgba(255, 68, 68, 0.8), rgba(255, 170, 0, 0.8))',
                    competition: 'linear-gradient(135deg, rgba(136, 0, 255, 0.8), rgba(255, 0, 136, 0.8))',
                    instantGratification: 'linear-gradient(135deg, rgba(0, 255, 136, 0.8), rgba(136, 255, 0, 0.8))'
                };
                return colors[trigger] || 'var(--terminal-blue)';
            }
        }

        // State
        let reportSlots = 2;
        let profileCompletion = 60;
        let currentScenario = 'expected';
        const storyEngine = new DataStoryEngine();
        let projectionChart;

        // Init
        document.addEventListener('DOMContentLoaded', function() {
            storyEngine.renderBehavioralTriggers();
            initializeCharts();
            updateProjections();
            if (profileCompletion < 100) {
                document.getElementById('profileNudge').style.display = 'block';
            }
            // Fetch live data from database
            fetchLiveData();
        });

        function fetchLiveData() {
            // Simulate fetching data from live database
            console.log('Fetching data from:', API_CONFIG.dbEndpoint);
            // In a real implementation, we would use fetch() to get live data
            // For now, we'll simulate with a timeout
            setTimeout(() => {
                showNotification('Live data connected successfully', 'success');
            }, 1000);
        }

        function initializeCharts() {
            // Projection Chart
            const projCtx = document.getElementById('projectionChart').getContext('2d');
            projectionChart = new Chart(projCtx, {
                type: 'line',
                data: {
                    labels: ['Month 1', 'M2', 'M3', 'M4', 'M5', 'M6', 'M7', 'M8', 'M9', 'M10', 'M11', 'M12'],
                    datasets: [{
                        label: 'Projected Revenue',
                        data: [],
                        borderColor: 'var(--terminal-green)',
                        backgroundColor: 'rgba(0, 255, 136, 0.1)',
                        tension: 0.4,
                        fill: true,
                        borderWidth: 3
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            labels: { color: '#fff', font: { size: 11 } }
                        }
                    },
                    scales: {
                        y: {
                            ticks: { color: '#b0b0b0', callback: v => '$' + (v/1000) + 'K' },
                            grid: { color: '#333' }
                        },
                        x: {
                            ticks: { color: '#b0b0b0' },
                            grid: { color: '#333' }
                        }
                    }
                }
            });

            // Causal Chart
            new Chart(document.getElementById('causalChart'), {
                type: 'bar',
                data: {
                    labels: ['CAC Reduction', 'Revenue Uplift', 'User Growth'],
                    datasets: [{
                        label: 'Your Impact',
                        data: [15, 20, 18],
                        backgroundColor: 'rgba(0, 255, 136, 0.7)',
                        borderColor: 'rgba(0, 255, 136, 1)',
                        borderWidth: 1
                    }, {
                        label: 'Industry Avg',
                        data: [5, 8, 6],
                        backgroundColor: 'rgba(255, 68, 68, 0.7)',
                        borderColor: 'rgba(255, 68, 68, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { labels: { color: '#fff', font: { size: 11 } } }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: { color: '#b0b0b0', callback: v => v + '%' },
                            grid: { color: '#333' }
                        },
                        x: {
                            ticks: { color: '#b0b0b0' },
                            grid: { color: '#333' }
                        }
                    }
                }
            });

            // Counterfactual Chart
            new Chart(document.getElementById('counterfactualChart'), {
                type: 'line',
                data: {
                    labels: ['Q1', 'Q2', 'Q3', 'Q4'],
                    datasets: [{
                        label: 'With Rewards',
                        data: [100, 130, 160, 190],
                        borderColor: 'var(--terminal-green)',
                        backgroundColor: 'rgba(0, 255, 136, 0.1)',
                        tension: 0.4,
                        fill: true,
                        borderWidth: 3
                    }, {
                        label: 'Without Rewards',
                        data: [100, 110, 112, 115],
                        borderColor: 'var(--terminal-red)',
                        backgroundColor: 'rgba(255, 68, 68, 0.1)',
                        tension: 0.4,
                        fill: true,
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { labels: { color: '#fff', font: { size: 11 } } }
                    },
                    scales: {
                        y: {
                            ticks: { color: '#b0b0b0' },
                            grid: { color: '#333' }
                        },
                        x: {
                            ticks: { color: '#b0b0b0' },
                            grid: { color: '#333' }
                        }
                    }
                }
            });
        }

        function setScenario(scenario) {
            currentScenario = scenario;
            document.querySelectorAll('.scenario-btn').forEach(btn => btn.classList.remove('active'));
            document.getElementById(scenario + 'Btn').classList.add('active');
            
            const scenarios = {
                conservative: { startups: 30, dealSize: 1800, success: 60, growth: 8 },
                expected: { startups: 47, dealSize: 2650, success: 75, growth: 15 },
                aggressive: { startups: 80, dealSize: 4200, success: 85, growth: 28 }
            };
            
            const s = scenarios[scenario];
            document.getElementById('startupsSlider').value = s.startups;
            document.getElementById('dealSizeSlider').value = s.dealSize;
            document.getElementById('successRateSlider').value = s.success;
            document.getElementById('growthRateSlider').value = s.growth;
            
            updateProjections();
            document.getElementById('scenarioName').textContent = scenario.charAt(0).toUpperCase() + scenario.slice(1);
        }

        function updateProjections() {
            const startups = parseInt(document.getElementById('startupsSlider').value);
            const dealSize = parseInt(document.getElementById('dealSizeSlider').value);
            const successRate = parseInt(document.getElementById('successRateSlider').value);
            const growthRate = parseInt(document.getElementById('growthRateSlider').value);
            
            document.getElementById('startupsValue').textContent = startups;
            document.getElementById('dealSizeValue').textContent = '$' + dealSize.toLocaleString();
            document.getElementById('successRateValue').textContent = successRate + '%';
            document.getElementById('growthRateValue').textContent = growthRate + '%';
            
            // Calculate projections using live formula
            const baseRevenue = startups * dealSize * (successRate / 100);
            const projectedData = [];
            let cumulative = 0;
            
            for (let i = 0; i < 12; i++) {
                const monthlyRev = baseRevenue * Math.pow(1 + growthRate/100, i);
                cumulative += monthlyRev;
                projectedData.push(monthlyRev);
            }
            
            projectionChart.data.datasets[0].data = projectedData;
            projectionChart.update();
            
            document.getElementById('projectedRevenue').textContent = '$' + Math.round(cumulative).toLocaleString();
            document.getElementById('projectedShadowValue').textContent = '$' + Math.round(cumulative * 2.38).toLocaleString();
            document.getElementById('projectedROI').textContent = (cumulative / 22752).toFixed(1) + 'x';
        }

        function toggleImpactDetails() {
            const details = document.getElementById('impactDetails');
            const toggle = document.getElementById('impactToggle');
            if (details.style.display === 'none') {
                details.style.display = 'block';
                toggle.textContent = 'Hide Methodology';
            } else {
                details.style.display = 'none';
                toggle.textContent = 'Show Methodology';
            }
        }

        function toggleLeaderboard() {
            const moreItems = document.getElementById('moreLeaderboardItems');
            const button = event.target;
            
            if (moreItems.style.display === 'none') {
                moreItems.style.display = 'block';
                button.innerHTML = '<i class="fas fa-chevron-up me-2"></i>Show Less';
            } else {
                moreItems.style.display = 'none';
                button.innerHTML = '<i class="fas fa-chevron-down me-2"></i>Show More';
            }
        }

        function completeProfile() {
            showNotification('Opening profile wizard...', 'info');
            profileCompletion = 100;
            document.getElementById('profileNudge').style.display = 'none';
            showNotification('Profile completion unlocks 15% more value!', 'success');
        }

        function purchaseReport(type, price) {
            showNotification(`Processing $${price} payment for ${type.toUpperCase()} report...`, 'info');
            setTimeout(() => {
                showNotification(`Payment successful! AI generating personalized report...`, 'success');
                reportSlots--;
                setTimeout(() => showNotification(`${type.toUpperCase()} report ready!`, 'success'), 2000);
            }, 1500);
        }

        function showPaymentModal() {
            showNotification('Payment modal opening...', 'info');
        }

        function showDecayMitigation() {
            showNotification('Showing influence decay mitigation strategies...', 'info');
        }

        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = 'notification-toast show';
            notification.style.background = type === 'success' ? 'rgba(0, 255, 136, 0.1)' : 
                                          type === 'warning' ? 'rgba(255, 170, 0, 0.1)' : 
                                          'rgba(0, 136, 255, 0.1)';
            
            const icon = type === 'success' ? 'fa-check-circle' : 
                        type === 'warning' ? 'fa-exclamation-triangle' : 
                        'fa-info-circle';
            
            notification.innerHTML = `
                <div class="d-flex align-items-center">
                    <div class="me-3" style="font-size: 1.5rem;">
                        <i class="fas ${icon}"></i>
                    </div>
                    <div class="flex-grow-1">
                        <div class="fw-bold">${message}</div>
                    </div>
                    <button type="button" class="btn-close btn-close-white" onclick="this.parentElement.parentElement.remove()"></button>
                </div>
            `;
            
            document.body.appendChild(notification);
            setTimeout(() => notification.remove(), 5000);
        }

        /**
         * ========================================
         * API Integration for Corporate Partner Dashboard
         * ========================================
         */
        const CORPORATE_PARTNER_API_BASE = 'https://24ndip5xbbgahv4m5cvicrmzta0vgdho.lambda-url.us-east-1.on.aws';
        
        /**
         * Load corporate partner data from API
         */
        async function loadCorporatePartnerData() {
            console.log('=== CORPORATE PARTNER DASHBOARD API INITIALIZING ===');
            console.log('Timestamp:', new Date().toISOString());
            
            try {
                // Get auth token
                const token = localStorage.getItem('auxeira_auth_token');
                
                if (!token) {
                    console.warn('No auth token found, using test user fallback');
                    // Use test user ID as fallback
                    const testUserId = '045b4095-3388-4ea6-8de3-b7b04be5bc1b';
                    const response = await fetch(`${CORPORATE_PARTNER_API_BASE}?userId=${testUserId}`);
                    
                    if (!response.ok) {
                        throw new Error(`API returned ${response.status}`);
                    }
                    
                    const data = await response.json();
                    console.log('Corporate Partner API Data Loaded (test user):', data);
                    return data;
                }
                
                console.log('Calling Corporate Partner API:', CORPORATE_PARTNER_API_BASE);
                
                const response = await fetch(CORPORATE_PARTNER_API_BASE, {
                    method: 'GET',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    }
                });
                
                console.log('Corporate Partner API Response Status:', response.status);
                
                if (!response.ok) {
                    throw new Error(`API returned ${response.status}`);
                }
                
                const data = await response.json();
                console.log('Corporate Partner API Data Loaded:', data);
                
                return data;
                
            } catch (error) {
                console.error('Error loading corporate partner data:', error);
                return null;
            }
        }
        
        /**
         * Update dashboard UI with corporate partner data
         */
        function updateCorporatePartnerDashboard(data) {
            console.log('=== UPDATING CORPORATE PARTNER DASHBOARD UI ===');
            
            if (!data || !data.success || !data.data) {
                console.warn('No data to update dashboard');
                return;
            }
            
            const context = data.data;
            
            // Update partner metrics if available
            if (context.startupName) {
                // Update any startup-related metrics
                console.log('Partner associated with startup:', context.startupName);
            }
            
            // Update MRR if available
            if (context.mrr !== undefined) {
                const mrrElements = document.querySelectorAll('[data-metric="mrr"]');
                mrrElements.forEach(el => {
                    el.textContent = `$${(context.mrr / 1000).toFixed(1)}K`;
                });
            }
            
            // Update growth rate if available
            if (context.mrrGrowth) {
                const growthElements = document.querySelectorAll('[data-metric="growth"]');
                growthElements.forEach(el => {
                    el.textContent = context.mrrGrowth;
                });
            }
            
            // Update SSE score if available
            if (context.sseScore !== undefined) {
                const sseElements = document.querySelectorAll('[data-metric="sse-score"]');
                sseElements.forEach(el => {
                    el.textContent = context.sseScore;
                });
            }
            
            // Update users/customers if available
            if (context.users !== undefined) {
                const userElements = document.querySelectorAll('[data-metric="users"]');
                userElements.forEach(el => {
                    el.textContent = context.users.toLocaleString();
                });
            }
            
            if (context.customers !== undefined) {
                const customerElements = document.querySelectorAll('[data-metric="customers"]');
                customerElements.forEach(el => {
                    el.textContent = context.customers.toLocaleString();
                });
            }
            
            console.log('‚úÖ Corporate partner dashboard UI updated successfully');
        }
        
        /**
         * Initialize corporate partner dashboard on page load
         */
        (function() {
            window.addEventListener('DOMContentLoaded', async function corporatePartnerInitHandler() {
                console.log('=== CORPORATE PARTNER DASHBOARD INITIALIZING ===');
                console.log('URL:', window.location.href);
                
                try {
                    // Load corporate partner data from API
                    const partnerData = await loadCorporatePartnerData();
                    
                    if (partnerData) {
                        // Update UI with loaded data
                        updateCorporatePartnerDashboard(partnerData);
                    } else {
                        console.warn('No corporate partner data loaded, using default values');
                    }
                } catch (error) {
                    console.error('Error initializing corporate partner dashboard:', error);
                }
            });
        })();
    </script>
</body>
</html>